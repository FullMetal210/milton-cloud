<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
	<head>
		<title>PROPFIND and PROPPATCH</title>
	</head>
	<body>
		<h2>Get the Properties of the Resource (PROPFIND)</h2>
		<p>PROPFIND method retrieves all the defined properties for the given resource URI.  Milton provides the PropFindableResource, MultiNamespaceCustomPropertyResource, CustomPropertyResource (subclass of PropFindableResource) Interfaces which implements the PROPFIND WebDAV method. In order to make your resource to support PROPFIND, all you need to do is just implement the one of the above mentioned interfaces and override its methods as per your requirement.</p>
		<p>PropFindableResource is high-level interface to support the PROPFIND http method. In order to return the customer properties we need to implement either CustomerPropertyresource or MultiNamespaceCustomPropertyResource.  Let us take MultiNamespaceCustomPropertyResource for our example.</p>
		<p>
			Please refer the corresponding
			<a href="/reference/milton-api/apidocs/com/bradmcevoy/http/PropFindableResource.html">JavaDoc</a>
			for more information.
		</p>
		<p>
			<b>Important methods:</b>
		</p>
		<p>
			<b>getAllPropertyNames():</b>
			this method returns the list of Property names. You can place your logic to fetch and return the properties of the resource
		</p>
		<p>
			<b>getProperty(QName propertyName):</b>
			this method returns the value of the specified property.
		</p>
		<p>
			Following code shows on how to return the properties of the DocumentResoutce/ This example is continuation of the previous tutorial.  Example:
			<script src="https://gist.github.com/2483946.js?file=milton_propfindablersource_1.java" />
		</p>
		<p>&nbsp;</p>
		<h2>Updating the Properties (PROPPATCH):</h2>
		<p>PROPPATCH method sets or removes the properties on the given resource. In order to support the PROPPATCH http method, your resource class must implement the PropPatchableResource.  PropPatchableResource is a high-level interface. In order to efficiently handle the property updates, either  CustomerPropertyresource  or MultiNamespaceCustomPropertyResource must be implemented.</p>
		<p>Let us take MultiNamespaceCustomPropertyResource for our example. Below code shows us the implementation of the SetProperty method of the MultiNamespaceCustomPropertyResource</p>
		<p>
			Please refer the the
			<a href="/reference/milton-api/apidocs/com/bradmcevoy/http/PropPatchableResource.html">JavaDoc</a>
			for more information.
		</p>
		<p>
			Example:
			<script src="https://gist.github.com/2483970.js?file=milton_proppatchablersource_1.java" />
		</p>
		<p>&nbsp;</p>
		<h2>Output:</h2>
		<p>PROPFIND and PROPPATCH handling really depends on the WebDAV Client. To make this easier, let me use Fiddler to as a WebDAV client for now and demonstrate the power and ease of use of Milton API.</p>
		<p>
			<b>
				PROPPATCH Testing:
				<b>
					<br />
					<u>Request:</u>
					<br />
					<img src="/images/porppatch_request.jpg" alt="" />
					<br />
					<u>Response:</u>
					<br />
					<img src="/images/porppatch_respt.jpg" alt="" />
					<br />
					<b>
						PROPFIND Testing:
						<b>
							<br />
							<u>Request:</u>
							<br />
							<img src="/images/propfind_request_1.jpg" alt="" />
							<br />
							<u>Response:</u>
							<br />
							<img src="/images/propfind_resp_1.jpg" alt="" />
							<br />
						</b>
					</b>
				</b>
			</b>
		</p>
	</body>
</html>

